!function(){const n={};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect=n;let e=null,t=window.sessionStorage;function o(n){DotNet.invokeMethodAsync("HLSoft.BlazorWebAssembly.Authentication.OpenIdConnect","NotifySilentRefreshTokenFail",n)}function i(n){return n||(n={}),n.userStore=new Oidc.WebStorageStateStore({store:t}),n}function r(n){return n.isCode?new Oidc.UserManager(i({...n,response_mode:"query"})):new Oidc.UserManager(i(n))}n.notifySilentRenewSuccess=function(){DotNet.invokeMethodAsync("HLSoft.BlazorWebAssembly.Authentication.OpenIdConnect","NotifySilentRefreshTokenSuccess")},n.configOidc=function(n){e||(e=new Oidc.UserManager(i(n)),e.events.addSilentRenewError(o),n.endSessionEndpoint&&(e.metadataService.getEndSessionEndpoint=function(){return Promise.resolve(n.endSessionEndpoint)}))},n.signinRedirect=function(){return e.signinRedirect()},n.signoutRedirect=function(){return e.signoutRedirect()},n.getUser=function(){return e?e.getUser():null},n.removeUser=function(){return e.removeUser()},n.signinPopup=function(){return e.signinPopup()},n.signoutPopup=function(){return e.signoutPopup()},n.signinSilent=function(){return e.signinSilent()},n.processSigninCallback=function(n){return r(n).signinRedirectCallback()},n.processSilentCallback=function(){return new Oidc.UserManager(i()).signinSilentCallback(window.location.href).then(()=>{window.parent!==window&&window.parent.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect&&window.parent.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.notifySilentRenewSuccess()})},n.processSigninPopup=function(n){return r(n).signinPopupCallback()},n.processSignoutPopup=function(n){r(n).signoutPopupCallback(!1)},n.setPageDisplayStatus=function(n){document.body.style.display=n?"block":"none"},n.silentOpenUrlInIframe=function(n,e){return new Promise((t,o)=>{let i=document.createElement("iframe");i.style.display="none",i.setAttribute("src",n),document.body.appendChild(i);let r=window.setTimeout(()=>{o(new Error("IFrame window timed out."))},e);i.onload=()=>{document.body.removeChild(i),window.clearTimeout(r),t()}})},n.configUserStore=function(n){t=n}}();
